# 设计模式对比

|  分类  |                           设计模式                           |
| :----: | :----------------------------------------------------------: |
| 创建型 |        工厂方法，抽象工厂，建造者，原型模式，单例模式        |
| 结构型 |       适配器，桥接，组合，装饰者，门面模式，享元，代理       |
| 行为型 | 解释器，末班方法，责任链，命令，迭代器，调节者，备忘录，观察者，状态，策略，访问 |

## 关联关系和对比

### 单例和工厂

​	工厂类一般设计为单例

​	ApplicationContext

### 装饰者和静态代理

​	装饰者关注点在于给对象动态添加方法，但是代理更加注重对对象的访问

​	代理模式通常在代理类中创建被代理对象的实例，而装饰者模式通常吧被装饰者作为构造参数

### 策略和模板

​	都封装了算法

​	策略模式是使不同算法可以相互替换，不影响客户端应用层的使用

​	模板方法是针对定义一个算法的流程，将一些有细微差异的部分交给子类来实现。

### 模板和原型

### 代理和委派

### 代理和策略

### 策略和工厂

​	工厂模式主要是封装好创建逻辑，策略模式接受工厂创建好的对象，从而实现不同的行为

### 策略和委派

​	策略模式是委派模式内部的一宗实现，策略模式关注的结果是否是能否相互替代

​	策略：

​	委派：侧重关注和分发调度的过程，有可能采用if,else的条件来分发，内部也可以使用策略模式

### 代理和适配器

### 装饰器和适配器

​	

### 模板方法和工厂方法

​	工厂方法是模板方法的一种特殊实现

### 适配器和策略

​	策略模式优化适配器

# Spring中常用的设计模式

|  设计模式  |             一句话归纳             |                             举例                             |
| :--------: | :--------------------------------: | :----------------------------------------------------------: |
|  工厂模式  |     只对结果负责，封装创建过程     |                 BeanFactory,Calender,Logger                  |
|  单例模式  |            保证独一无二            |                 ApplicationContext,Calender                  |
|  原型模式  |       拔一根猴毛，吹出千万个       |                   ArrayList,PrototypeBean                    |
|  代理模式  |         找人办事，增强职责         |      ProxyFactoryBean,JdkDynamicAopProxy,CglibAopProxy       |
|  委派模式  | 干活算你的（普通员工），功劳算我的 |        DispatcherServlet,BeanDefinitionParserDelegate        |
|  策略模式  |         用户选择，结果统一         |             InstantiationStrategy,HandlerMapping             |
|  模板模式  |      流程标准化，自己实现定制      |                   JDBCTemplate,httpServlet                   |
| 适配器模式 |             兼容转换头             |                AdvisorAdapter,HandlerAdapter                 |
| 装饰者模式 |           包装，同宗同源           | BufferedReader,InputStream,OutputStream,HttpHeadResponseDecorator,beanWrapper |
| 观察者模式 |           任务完成时通知           |                     ContextLoaderLitener                     |

